<section class="video-slider-section">
  <app-ancient-particles class="background-particles"></app-ancient-particles>
  
  <div class="slider-container">
    @for(slide of slides;track slide.title;let i = $index){
      <div class="slide" [class.active]="i === activeSlide">
  
        <div class="content-left">
          <div class="text-wrapper">
            <h2 class="slide-title">{{ slide.title }}</h2>
            <p class="slide-description">{{ slide.description }}</p>
            
            <div class="features-list">
              @for(feature of slide.features;track feature){
                <div class="feature-item">
                  <span class="dot"></span>
                  <span class="text">{{ feature }}</span>
                </div>
              }
              
            </div>
          </div>

          <div class="slider-controls">
            <div class="indicators">
              @for(s of slides;track s.title ;let idx = $index){
                <span 
                    class="indicator" 
                    [class.active]="idx === activeSlide"
                    (click)="goToSlide(idx)"></span>
              }
            </div>
          </div>
        </div>
        @if(slides[i].videoSrc){
          <div class="video-right">
            <div class="video-wrapper">
              <video #mainVideo [src]="slide.videoSrc" loop playsinline muted preload="auto" class="transparent-video"></video>
              
              <button class="mute-btn" (click)="toggleMute($event)" [attr.aria-label]="isMuted ? 'Unmute' : 'Mute'">
                <svg *ngIf="isMuted" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
                  <line x1="23" y1="9" x2="17" y2="15"></line>
                  <line x1="17" y1="9" x2="23" y2="15"></line>
                </svg>
                <svg *ngIf="!isMuted" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
                  <path d="M19.07 4.93a10 10 0 0 1 0 14.14"></path>
                  <path d="M15.54 8.46a5 5 0 0 1 0 7.07"></path>
                </svg>
              </button>
            </div>
          </div>
        } @else {
          <div class="video-right">
            <div class="video-wrapper">
              <img [src]="slides[i].image" class="slider-image" alt="Slide Preview">
            </div>
          </div>
        }
        

      </div>
    }
  </div>
</section>
